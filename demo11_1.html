<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>canvas</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
</head>
<body>
    <canvas id="canvas" style="border:1px solid #ccc; margin: 50px auto;display: block;" height="768" width="1024">
    	如果浏览器不支持canvas的话则会显示这行文字
    </canvas>
    <script type="text/javascript">
	window.onload= function(){
		var canvas = document.getElementById("canvas");
		var canvastext = canvas.getContext("2d");
		// canvastext.lineWidth = 5;
		// canvastext.strokeStyle = "#abc";
		canvastext.fillStyle = "#f00";
		var y = Math.random()*canvas.height;
		var x = Math.random()*canvas.width;
		canvastext.fillRect(x,y,10,10)

		// var x1 = Math.random()*canvas.width;
		// var y1 = Math.random()*canvas.height;
		// canvastext.fillRect(x1,y1,4,4)

		var a = 0 ;
		var b = 0 ;
		canvas.onmousemove=function(even) {
			var a = even.pageX-this.offsetLeft;
			//console.log(even.pageY)  //290   触发点到浏览器文档区域顶部的距离 会随着滚动条的滚动而改变  不兼容ie6/7/8
			//console.log(even.clientY) //190  触发点到浏览器可视区顶部的距离 不会随着滚动条的滚动而改变  兼容所有浏览器
			console.log(document.body.scrollTop)
			var b = even.pageY-this.offsetTop;

			canvastext.beginPath()
			canvastext.clearRect(0, 0, canvas.width, canvas.height);  // 清空
			canvastext.arc(a,b,30,0,30)
			canvastext.closePath()
			canvastext.stroke()
		};

	}
</script>
</body>
</html>